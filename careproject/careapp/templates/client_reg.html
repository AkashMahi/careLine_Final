{% extends 'index_cms.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}
    <title>Patient Registration | CareLine</title>
    {% endblock %}
</head>
<body>
    {% block here %}

    <form action="" method="post" class="form m-5">
        {% csrf_token %}


        <table class="table table-borderless">
            <!-- {% if data %}
            <tr>
                <td colspan="2" class="text-center"><h4 class="text-warning">{{data}}</h4></td>
            </tr>
            {% endif %} -->
            <tr>
                <td>
                    <label for="fname">First Name:</label>
                    <input type="text" id="fname" name="fname" required class="form-control">
                </td>

                <td>
                    <label for="lname">Last Name:</label>
                    <input type="text" id="lname" name="lname" required class="form-control">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob" name="dateofbirth" required class="form-control">
                </td>
                <td>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required class="form-control">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <label for="address">Address:</label>
                    <!-- <input type="text" id="address" name="address" required class="form-control"> -->
                    <textarea name="address" id="address" cols="30" rows="10" required class="form-control"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="district">District:</label>
                    <!-- <input type="text" id="district" name="district" required class="form-control"> -->
                    <select name="district" id="" class="form-control">
                        <option selected disabled>Choose Your District</option>

                        {% for i in d %}
                        <option value="{{i}}">{{i}}</option>
                        {% endfor %}
                    </select>
                </td>
                <td>
                    <label for="state">State:</label>
                    <input type="text" id="state" name="state" value="Kerala" required class="form-control">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="doctorname">Doctor Name:</label>
                    <input type="text" id="doctorname" name="doctorname" required class="form-control">
                </td>
                <td>
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" name="phone" required class="form-control">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <label for="id_proof" class="form-label">Aadhar Number:</label>
                    <input type="text" id="id_proof" name="id_proof"  class="form-control"><br>
                </td>

            </tr>
            <tr>
                <td>
                    <label for="phone">Care Taker Preferance:</label>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="">
                <select name="c_id" id="" class="form-control">
                    {% for i in data %}
                    <option value="{{ i.id }}">{{ i.first_name }} from {{ i.dist }}</option>
                    {% endfor %}
                </select>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required class="form-control">
                </td>
                <td>
                    <label for="confirm-password">Confirm Password:</label>
                    <input type="password" id="confirm-password" name="confirm_password" required class="form-control">
                </td>
                <script type="text/javascript">
                    const passwordInput = document.getElementById('password');
                    const passwordConfirmInput = document.getElementById('confirm-password');
                    const submitButton = document.getElementById('submit-button');
                
                    passwordConfirmInput.addEventListener('keyup', function () {
                        if (passwordInput.value === passwordConfirmInput.value) {
                            passwordConfirmInput.setCustomValidity('');
                            submitButton.disabled = false;
                        } else {
                            passwordConfirmInput.setCustomValidity('Passwords do not match.');
                            submitButton.disabled = true;
                        }
                    });
                </script>
                
            </tr>
            <tr class="text-center">
                <td colspan="2"><input type="submit" value="Submit" class="btn btn-primary form-control" id="'submit-button'" ></td>
            </tr>
        </table>
      
      </form>
    </div>
    {% endblock %}
      
</body>
</html>